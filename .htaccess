# ============================================================
# Emedical Madrid - .htaccess Definitivo Hostalia (Ultra-Compatible)
# ============================================================

Options -MultiViews
RewriteEngine On
RewriteBase /

# 1) FORZAR HTTPS Y QUITAR WWW
RewriteCond %{HTTPS} off [OR]
RewriteCond %{HTTP_HOST} ^www\. [NC]
RewriteRule ^(.*)$ https://renovarcarnetdeconducirmadridbarato.com/$1 [L,R=301]

# 2) ARREGLAR EL LOGO (Redirigir index.html físico a la raíz limpia)
# Si el servidor ve una petición física a index.html, la limpia a /
RewriteCond %{THE_REQUEST} ^[A-Z]{3,9}\ /index\.html\ HTTP/
RewriteRule ^index\.html$ / [R=301,L]

# 3) REGLA PARA RENOVAR CARNET (Caso especial por longitud)
# Si pides /renovar-carnet-conducir-madrid, te sirve el .html
RewriteRule ^renovar-carnet-conducir-madrid$ renovar-carnet-conducir-madrid.html [L,NC]

# 4) REGLA GENÉRICA PARA EL RESTO DE PÁGINAS
# Si el archivo existe con .html, sírvelo sin mostrar la extensión
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_FILENAME}.html -f
RewriteRule ^(.*)$ $1.html [L]